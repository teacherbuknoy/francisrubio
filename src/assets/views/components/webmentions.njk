{% set preferredDomain = site.domains | selectattr('isPreferred') | first %}
<form class="form content-wrapper margin--auto margin-block--xxxl" action="{{ site.api.webmentions }}" method="POST">
  <h2 class="margin-block--none font-sans uppercase fs-5 weight-700" id="response-heading">Send a shoutout!</h2>
  <p class="margin-block--none">Did you post a response to this in your own website? Send me a <a href="http://indiewebcamp.com/webmention">webmention</a>!</p>
  <input class="form-control" name="target" type="hidden" value="https://{{ preferredDomain.value }}{{ page.url }}">
  <div class="field margin--none">
    <label for="source" class="form-label">Your response's <abbr>URL</abbr>
    </label>
    <input class="form-control" id="source" name="source" type="url" placeholder="https://your.example.site/posts/response-to-francis/">
  </div>
  <button type="submit" class="primary button">Send</button>

  <p class="font-sans margin-top--xl">Don't have a website? Send a response via <a href="https://commentpara.de">
      <b>commentpara.de</b>
    </a>! Copy and paste the <abbr>URL</abbr> of this webpage, and paste it on there along with your response. Comments can be anonymous, too!</p>
</form>
<div class="content-wrapper margin--auto relative">
  <details class="disclosure margin-block--l" id="webmentions">
    <summary class="disclosure__notice webmentions webmentions--summary hidden" data-webmention-container>
      <span>Activity</span>
      <span class="webmention__statistic">
        {{ 'heart' | icon | safe }}
        <span data-webmention="like"></span>
        <span class="webmention__statistic-label">Likes</span>
      </span>
      <span class="webmention__statistic">
        {{ 'refresh-cw' | icon | safe }}
        <span data-webmention="repost"></span>
        <span class="webmention__statistic-label">Reposts</span>
      </span>
      <span class="webmention__statistic">
        {{ 'message-circle' | icon | safe }}
        <span data-webmention="reply"></span>
        <span class="webmention__statistic-label">Replies</span>
      </span>
    </summary>
    <div class="hidden disclosure__body" data-webmention-container>
      {# <h2 class="font-sans uppercase fs-5 weight-700" id="webmention-likes-repost">Likes and reposts</h2> #}
      {% if nextSectionLink != null %}
        <a href="{{ nextSectionLink }}" class="button skip-link">Skip to next section</a>
        {% set nextSectionLink = null %}
      {% endif %}
      <ul data-webmention-container="likes" class="webmention-container likes margin--none">
        <template id="webmention-like-entry">
          <li class="webmention__entry" id="">
            <div class="webmention__author">
              <a href="" class="webmention__photo-link" data-webmention-entry="author-link">
                <img data-webmention-entry="photo" src="" alt="" class="webmention__author-photo">
                <div class="webmention__photo-icon" data-webmention-type="like">
                  {{ 'heart' | icon | safe }}
                  <span class="sr-only">Liked</span>
                </div>
                <div class="webmention__photo-icon" data-webmention-type="repost">
                  {{ 'rotate-cw' | icon | safe }}
                  <span class="sr-only">Reposted</span>
                </div>
              </a>
              <div class="webmention__author-details">
                <a data-webmention-entry="author-name" href="" class="webmention__author-name"></a>
                <a data-webmention-entry="interaction-link" href="" class="webmention__timestamp-link">
                  <time data-webmention-entry="interaction-timestamp" class="webmention__timestamp" datetime=""></time>
                </a>
              </div>
            </div>
          </li>
        </template>
      </ul>
    </div>
  </details>
</div>
<div class="content-wrapper margin--auto hidden relative" data-webmention-container>
  {# <h2 class="font-sans uppercase fs-5 weight-700" id="webmention-replies">Replies</h2> #}
  <div data-webmention-container="in-reply-to" class="webmention-container replies">
    <template id="webmention-reply-entry">
      <article class="entry">
        <header class="entry__header webmention">
          <div class="profile__header">
            <img class="profile__avatar" data-webmention-entry="photo" src="https://webmention.io/avatar/files.mstdn.party/089e99cacf526c9177d55baa6896ede0bac8f11da8fb0a9c99456d613680bf8f.jpg" alt="Francis Rubio's photo">
            <a class="profile__name" data-webmention-entry="author-name" href="https://mstdn.party/@teacherbuknoy">Francis Rubio</a>
            <a class="profile__identifier" data-webmention-entry="author-identifier" href="https://mstdn.party/@teacherbuknoy">@teacherbuknoy@mstdn.party</a>
          </div>
          <a class="no-arrow entry__post-time" data-webmention-entry="interaction-link" href="https://mstdn.party/@teacherbuknoy/109450410920194422">
            <time data-webmention-entry="interaction-timestamp" datetime="2022-12-03T15:18:53">Just now</time>
          </a>
          <h2 class="visually-hidden" data-webmention-entry="entry-label">
            <span data-webmention-entry="author-name"></span> replied on <span data-webmention-entry="interaction-timestamp"></span>
          </h2>
        </header>
        <div class="entry__body webmention" data-webmention-entry="interaction-body">
          <p>I enjoyed chronicling this journey. Now I'm thinking of making a video out of this one</p>
        </div>
        <figure class="entry__media" data-webmention-entry="interaction-media"></figure>
      </article>
    </template>
    <template id="webmention-mention-entry">
      <article class="entry">
        <div class="entry__body webmention">
          <h3 class="webmention__title" data-webmention-entry="mention-title">
            <a href="" data-webmention-entry="interaction-link">Title of post</a>
          </h3>
          <p class="webmention__summary" data-webmention-entry="mention-summary">I enjoyed chronicling this journey. Now I'm thinking of making a video out of this one</p>
        </div>
        <header class="entry__header webmention">
          <div class="profile__header">
            <img class="profile__avatar" data-webmention-entry="photo" src="https://webmention.io/avatar/files.mstdn.party/089e99cacf526c9177d55baa6896ede0bac8f11da8fb0a9c99456d613680bf8f.jpg" alt="Francis Rubio's photo">
            <div class="profile__meta">
              <a class="profile__name" data-webmention-entry="author-name" href="https://mstdn.party/@teacherbuknoy">Francis Rubio</a>
              <a class="profile__identifier" data-webmention-entry="author-identifier" href="https://mstdn.party/@teacherbuknoy">@teacherbuknoy@mstdn.party</a>
            </div>
            <p class="webmention__type">mentioned this post</p>
          </div>
        </header>
      </article>
    </template>
  </div>
</div>
<script>
  const siteData = {{ site | dump | safe }}
</script>
<script src="/assets/scripts/webmentions.js"></script>